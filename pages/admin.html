<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard - PlwgsCreativeApparel Business Management</title>
    <meta name="description" content="Comprehensive business management dashboard for PlwgsCreativeApparel - manage products, orders, analytics, and custom requests with dark futuristic interface." />
    <link rel="stylesheet" href="../css/main.css" />
    <style>
        /* Dashboard Specific Styles */
        .sidebar-nav {
            backdrop-filter: blur(10px);
            background: rgba(42, 42, 42, 0.95);
            border-right: 1px solid rgba(0, 188, 212, 0.2);
        }
        
        .glass-card {
            backdrop-filter: blur(15px);
            background: rgba(42, 42, 42, 0.8);
            border: 1px solid rgba(0, 188, 212, 0.2);
        }
        
        .metric-card {
            background: linear-gradient(135deg, rgba(0, 188, 212, 0.1), rgba(156, 39, 176, 0.1));
            border: 1px solid rgba(0, 188, 212, 0.3);
            transition: all 0.3s ease;
        }
        
        .metric-card:hover {
            border-color: rgba(0, 188, 212, 0.5);
            box-shadow: 0 0 20px rgba(0, 188, 212, 0.2);
        }
        
        .status-badge {
            font-size: 0.75rem;
            padding: 0.25rem 0.5rem;
            border-radius: 9999px;
            font-weight: 600;
        }
        
        .status-pending { background: rgba(245, 158, 11, 0.2); color: #f59e0b; }
        .status-processing { background: rgba(0, 188, 212, 0.2); color: #00bcd4; }
        .status-completed { background: rgba(16, 185, 129, 0.2); color: #10b981; }
        .status-urgent { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
        
        .chart-container {
            height: 300px;
            background: rgba(26, 26, 26, 0.8);
            border-radius: 0.75rem;
            padding: 1rem;
        }
        
        .kanban-column {
            background: rgba(42, 42, 42, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1);
            min-height: 400px;
        }
        
        .kanban-card {
            background: rgba(26, 26, 26, 0.8);
            border: 1px solid rgba(0, 188, 212, 0.2);
            cursor: grab;
            transition: all 0.3s ease;
        }
        
        .kanban-card:hover {
            border-color: rgba(0, 188, 212, 0.5);
            transform: translateY(-2px);
        }
        
        .notification-dot {
            width: 8px;
            height: 8px;
            background: #ef4444;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .progress-bar {
            background: rgba(0, 188, 212, 0.2);
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            background: linear-gradient(90deg, #00bcd4, #4dd0e1);
            height: 100%;
            transition: width 0.3s ease;
        }
        
        /* Mobile Responsive */
        @media (max-width: 768px) {
            .sidebar-nav {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }
            
            .sidebar-nav.open {
                transform: translateX(0);
            }
        }
    </style>
<script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fplwgscreat8854back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.6"></script>
</head>
<body class="bg-background text-text-primary overflow-x-hidden">
    <!-- Mobile Menu Overlay -->
    <div id="mobile-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden lg:hidden"></div>

    <!-- Sidebar Navigation -->
    <aside id="sidebar" class="sidebar-nav fixed left-0 top-0 h-full w-64 z-50 transition-transform duration-300">
        <div class="p-6">
            <!-- Logo -->
            <div class="flex items-center space-x-3 mb-8">
                <svg class="w-8 h-8 text-accent" viewBox="0 0 40 40" fill="currentColor">
                    <path d="M20 2L37 12v16L20 38L3 28V12L20 2z"/>
                    <circle cx="20" cy="20" r="8" fill="#0a0a0a"/>
                    <text x="20" y="25" text-anchor="middle" class="text-xs font-bold fill-accent">P</text>
                </svg>
                <div>
                    <span class="font-orbitron text-lg font-bold text-gradient">PlwgsCreative</span>
                    <p class="text-text-secondary text-xs">Admin Dashboard</p>
                </div>
            </div>

            <!-- Navigation Menu -->
            <nav class="space-y-2">
                <a href="admin.html" class="flex items-center space-x-3 px-4 py-3 rounded-lg bg-accent bg-opacity-20 text-accent border border-accent border-opacity-30">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5a2 2 0 012-2h4a2 2 0 012 2v0H8v0z"/>
                    </svg>
                    <span class="font-medium">Dashboard</span>
                </a>

                <a href="admin-login.html" class="flex items-center space-x-3 px-4 py-3 rounded-lg text-text-secondary hover:text-accent hover:bg-accent hover:bg-opacity-10 transition-all duration-300">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
                    </svg>
                    <span>Products</span>
                    <div class="notification-dot ml-auto"></div>
                </a>

                <a href="admin-login.html" class="flex items-center space-x-3 px-4 py-3 rounded-lg text-text-secondary hover:text-accent hover:bg-accent hover:bg-opacity-10 transition-all duration-300">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
                    </svg>
                    <span>Orders</span>
                    <span class="ml-auto bg-warning text-black text-xs px-2 py-1 rounded-full">0</span>
                </a>

                <a href="custom.html" class="flex items-center space-x-3 px-4 py-3 rounded-lg text-text-secondary hover:text-accent hover:bg-accent hover:bg-opacity-10 transition-all duration-300">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"/>
                    </svg>
                    <span>Custom Orders</span>
                    <span class="ml-auto bg-error text-white text-xs px-2 py-1 rounded-full">5</span>
                </a>

                <a href="account.html" class="flex items-center space-x-3 px-4 py-3 rounded-lg text-text-secondary hover:text-accent hover:bg-accent hover:bg-opacity-10 transition-all duration-300">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"/>
                    </svg>
                    <span>Customers</span>
                </a>

                <a href="admin-login.html" class="flex items-center space-x-3 px-4 py-3 rounded-lg text-text-secondary hover:text-accent hover:bg-accent hover:bg-opacity-10 transition-all duration-300">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                    </svg>
                    <span>Analytics</span>
                </a>

                <a href="admin-login.html" class="flex items-center space-x-3 px-4 py-3 rounded-lg text-text-secondary hover:text-accent hover:bg-accent hover:bg-opacity-10 transition-all duration-300">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                    </svg>
                    <span>Marketing</span>
                </a>

                <a href="admin-login.html" class="flex items-center space-x-3 px-4 py-3 rounded-lg text-text-secondary hover:text-accent hover:bg-accent hover:bg-opacity-10 transition-all duration-300">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"/>
                    </svg>
                    <span>Financials</span>
                </a>
            </nav>

            <!-- Quick Actions -->
            <div class="mt-8 pt-6 border-t border-surface-light">
                <h3 class="text-text-secondary text-sm font-medium mb-4">Quick Actions</h3>
                <div class="space-y-2">
                    <button class="w-full text-left px-4 py-2 text-sm text-text-secondary hover:text-accent hover:bg-accent hover:bg-opacity-10 rounded-lg transition-all duration-300">
                        Add New Product
                    </button>
                    <button class="w-full text-left px-4 py-2 text-sm text-text-secondary hover:text-accent hover:bg-accent hover:bg-opacity-10 rounded-lg transition-all duration-300">
                        Process Orders
                    </button>
                    <button class="w-full text-left px-4 py-2 text-sm text-text-secondary hover:text-accent hover:bg-accent hover:bg-opacity-10 rounded-lg transition-all duration-300">
                        Send Newsletter
                    </button>
                </div>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="lg:ml-64 min-h-screen">
        <!-- Top Header -->
        <header class="glass-card border-0 border-b border-surface-light p-6">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <!-- Mobile Menu Button -->
                    <button id="mobile-menu-btn" class="lg:hidden text-text-primary hover:text-accent transition-colors">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                        </svg>
                    </button>
                    
                    <div>
                        <h1 class="font-orbitron text-2xl font-bold text-white">Dashboard Overview</h1>
                        <p class="text-text-secondary text-sm">Welcome back, Lori! Here's what's happening with your store.</p>
                    </div>
                </div>

                <div class="flex items-center space-x-4">
                    <!-- Notifications -->
                    <button class="relative text-text-secondary hover:text-accent transition-colors">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5v-5zM11 17H7l4 4v-4zM13 3h4l-2 14h-4L13 3zM7 3h4l-2 14H5L7 3z"/>
                        </svg>
                        <div class="notification-dot absolute -top-1 -right-1"></div>
                    </button>

                    <!-- View Store -->
                    <a href="homepage.html" class="btn-primary text-sm px-4 py-2">
                        View Store
                    </a>

                    <!-- Profile -->
                    <div class="flex items-center space-x-3">
                        <img src="https://images.unsplash.com/photo-1494790108755-2616c0763c5c?q=80&w=100&auto=format&fit=crop" alt="Lori Nelton" class="w-10 h-10 rounded-full border-2 border-accent" loading="lazy" onerror="this.src='https://images.pexels.com/photos/1040945/pexels-photo-1040945.jpeg?auto=compress&cs=tinysrgb&w=100'; this.onerror=null;" />
                        <div class="hidden md:block">
                            <p class="text-white font-medium text-sm">Lori Nelton</p>
                            <p class="text-text-secondary text-xs">Store Owner</p>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Dashboard Content -->
        <div class="p-6 space-y-8">
            <!-- Key Metrics -->
            <section>
                <h2 class="font-orbitron text-xl font-bold text-white mb-6">Key Metrics</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <!-- Daily Sales -->
                    <div class="metric-card rounded-xl p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="p-3 bg-accent bg-opacity-20 rounded-lg">
                                <svg class="w-6 h-6 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"/>
                                </svg>
                            </div>
                            <span class="text-success text-sm font-medium">+12.5%</span>
                        </div>
                        <h3 class="text-2xl font-bold text-white mb-1">$1,247</h3>
                        <p class="text-text-secondary text-sm">Daily Sales</p>
                        <div class="progress-bar mt-3">
                            <div class="progress-fill" style="width: 75%"></div>
                        </div>
                    </div>

                    <!-- Weekly Sales -->
                    <div class="metric-card rounded-xl p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="p-3 bg-neon-purple bg-opacity-20 rounded-lg">
                                <svg class="w-6 h-6 text-neon-purple" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                                </svg>
                            </div>
                            <span class="text-success text-sm font-medium">+8.2%</span>
                        </div>
                        <h3 class="text-2xl font-bold text-white mb-1">$8,934</h3>
                        <p class="text-text-secondary text-sm">Weekly Sales</p>
                        <div class="progress-bar mt-3">
                            <div class="progress-fill" style="width: 60%"></div>
                        </div>
                    </div>

                    <!-- Total Orders -->
                    <div class="metric-card rounded-xl p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="p-3 bg-warning bg-opacity-20 rounded-lg">
                                <svg class="w-6 h-6 text-warning" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
                                </svg>
                            </div>
                            <span class="text-success text-sm font-medium">+15.3%</span>
                        </div>
                        <h3 class="text-2xl font-bold text-white mb-1">342</h3>
                        <p class="text-text-secondary text-sm">Total Orders</p>
                        <div class="progress-bar mt-3">
                            <div class="progress-fill" style="width: 85%"></div>
                        </div>
                    </div>

                    <!-- Custom Requests -->
                    <div class="metric-card rounded-xl p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="p-3 bg-error bg-opacity-20 rounded-lg">
                                <svg class="w-6 h-6 text-error" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"/>
                                </svg>
                            </div>
                            <span class="text-error text-sm font-medium">Urgent</span>
                        </div>
                        <h3 class="text-2xl font-bold text-white mb-1">23</h3>
                        <p class="text-text-secondary text-sm">Custom Requests</p>
                        <div class="progress-bar mt-3">
                            <div class="progress-fill bg-error" style="width: 40%"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Charts and Analytics -->
            <section class="grid lg:grid-cols-2 gap-8">
                <!-- Sales Chart -->
                <div class="glass-card rounded-xl p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="font-orbitron text-lg font-bold text-white">Sales Overview</h3>
                        <select class="bg-surface border border-surface-light text-text-primary px-3 py-1 rounded-lg text-sm">
                            <option>Last 7 days</option>
                            <option>Last 30 days</option>
                            <option>Last 3 months</option>
                        </select>
                    </div>
                    <div class="chart-container">
                        <svg class="w-full h-full" viewBox="0 0 400 200">
                            <!-- Chart Grid -->
                            <defs>
                                <pattern id="grid" width="40" height="20" patternUnits="userSpaceOnUse">
                                    <path d="M 40 0 L 0 0 0 20" fill="none" stroke="rgba(160, 160, 160, 0.1)" stroke-width="1"/>
                                </pattern>
                            </defs>
                            <rect width="100%" height="100%" fill="url(#grid)"/>
                            
                            <!-- Sales Line -->
                            <polyline fill="none" stroke="#00bcd4" stroke-width="3" points="20,150 60,120 100,140 140,100 180,110 220,80 260,90 300,60 340,70 380,40"/>
                            
                            <!-- Data Points -->
                            <circle cx="20" cy="150" r="4" fill="#00bcd4"/>
                            <circle cx="60" cy="120" r="4" fill="#00bcd4"/>
                            <circle cx="100" cy="140" r="4" fill="#00bcd4"/>
                            <circle cx="140" cy="100" r="4" fill="#00bcd4"/>
                            <circle cx="180" cy="110" r="4" fill="#00bcd4"/>
                            <circle cx="220" cy="80" r="4" fill="#00bcd4"/>
                            <circle cx="260" cy="90" r="4" fill="#00bcd4"/>
                            <circle cx="300" cy="60" r="4" fill="#00bcd4"/>
                            <circle cx="340" cy="70" r="4" fill="#00bcd4"/>
                            <circle cx="380" cy="40" r="4" fill="#00bcd4"/>
                        </svg>
                    </div>
                </div>

                <!-- Top Products -->
                <div class="glass-card rounded-xl p-6">
                    <h3 class="font-orbitron text-lg font-bold text-white mb-6">Top Performing Designs</h3>
                    <div class="space-y-4">
                        <div class="flex items-center space-x-4 p-3 bg-surface-dark rounded-lg">
                            <img src="https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?q=80&w=60&auto=format&fit=crop" alt="Horror Skull Tee" class="w-12 h-12 rounded-lg object-cover" loading="lazy" onerror="this.src='https://images.pexels.com/photos/996329/pexels-photo-996329.jpeg?auto=compress&cs=tinysrgb&w=60'; this.onerror=null;" />
                            <div class="flex-1">
                                <h4 class="text-white font-medium text-sm">Horror Skull Tee</h4>
                                <p class="text-text-secondary text-xs">142 sold this week</p>
                            </div>
                            <div class="text-right">
                                <p class="text-accent font-bold text-sm">$3,408</p>
                                <p class="text-success text-xs">+24%</p>
                            </div>
                        </div>

                        <div class="flex items-center space-x-4 p-3 bg-surface-dark rounded-lg">
                            <img src="https://images.pixabay.com/photo/2016/03/27/19/32/fashion-1283863_1280.jpg?q=80&w=60&auto=format&fit=crop" alt="Pop Culture Mashup" class="w-12 h-12 rounded-lg object-cover" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1503342217505-b0a15ec3261c?q=80&w=60&auto=format&fit=crop'; this.onerror=null;" />
                            <div class="flex-1">
                                <h4 class="text-white font-medium text-sm">Pop Culture Mashup</h4>
                                <p class="text-text-secondary text-xs">98 sold this week</p>
                            </div>
                            <div class="text-right">
                                <p class="text-accent font-bold text-sm">$2,646</p>
                                <p class="text-success text-xs">+18%</p>
                            </div>
                        </div>

                        <div class="flex items-center space-x-4 p-3 bg-surface-dark rounded-lg">
                            <img src="https://images.pexels.com/photos/1040945/pexels-photo-1040945.jpeg?auto=compress&cs=tinysrgb&w=60" alt="Custom Design" class="w-12 h-12 rounded-lg object-cover" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1576566588028-4147f3842f27?q=80&w=60&auto=format&fit=crop'; this.onerror=null;" />
                            <div class="flex-1">
                                <h4 class="text-white font-medium text-sm">Sarcastic Quote Tee</h4>
                                <p class="text-text-secondary text-xs">76 sold this week</p>
                            </div>
                            <div class="text-right">
                                <p class="text-accent font-bold text-sm">$1,824</p>
                                <p class="text-success text-xs">+12%</p>
                            </div>
                        </div>

                        <div class="flex items-center space-x-4 p-3 bg-surface-dark rounded-lg">
                            <img src="https://images.unsplash.com/photo-1578662996442-48f60103fc96?q=80&w=60&auto=format&fit=crop" alt="Minimalist Design" class="w-12 h-12 rounded-lg object-cover" loading="lazy" onerror="this.src='https://images.pexels.com/photos/1040945/pexels-photo-1040945.jpeg?auto=compress&cs=tinysrgb&w=60'; this.onerror=null;" />
                            <div class="flex-1">
                                <h4 class="text-white font-medium text-sm">Minimalist Rebel</h4>
                                <p class="text-text-secondary text-xs">54 sold this week</p>
                            </div>
                            <div class="text-right">
                                <p class="text-accent font-bold text-sm">$1,296</p>
                                <p class="text-success text-xs">+8%</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Order Management Kanban -->
            <section>
                <div class="flex items-center justify-between mb-6">
                    <h2 class="font-orbitron text-xl font-bold text-white">Order Management</h2>
                    <div class="flex space-x-3">
                        <button class="btn-primary text-sm px-4 py-2">Process All</button>
                        <button class="border border-accent text-accent px-4 py-2 rounded-lg text-sm hover:bg-accent hover:text-black transition-all duration-300">
                            Export Orders
                        </button>
                    </div>
                </div>

                <div class="grid md:grid-cols-4 gap-6">
                    <!-- Pending Orders -->
                    <div class="kanban-column rounded-xl p-4" data-status="pending">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="font-medium text-white">Pending</h3>
                            <span class="status-badge status-pending">0</span>
                        </div>
                        <div class="space-y-3">
                            <div class="kanban-card rounded-lg p-4">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-white font-medium text-sm">#ORD-2847</span>
                                    <span class="text-text-secondary text-xs">2h ago</span>
                                </div>
                                <p class="text-text-secondary text-sm mb-2">Horror Skull Tee - Size L</p>
                                <div class="flex items-center justify-between">
                                    <span class="text-accent font-bold text-sm">$24.99</span>
                                    <span class="text-text-secondary text-xs">Sarah M.</span>
                                </div>
                            </div>

                            <div class="kanban-card rounded-lg p-4">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-white font-medium text-sm">#ORD-2846</span>
                                    <span class="text-text-secondary text-xs">4h ago</span>
                                </div>
                                <p class="text-text-secondary text-sm mb-2">Pop Culture Mashup - Size M</p>
                                <div class="flex items-center justify-between">
                                    <span class="text-accent font-bold text-sm">$26.99</span>
                                    <span class="text-text-secondary text-xs">Mike R.</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Processing Orders -->
                    <div class="kanban-column rounded-xl p-4" data-status="processing">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="font-medium text-white">Processing</h3>
                            <span class="status-badge status-processing">0</span>
                        </div>
                        <div class="space-y-3">
                            <div class="kanban-card rounded-lg p-4">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-white font-medium text-sm">#ORD-2845</span>
                                    <span class="text-text-secondary text-xs">6h ago</span>
                                </div>
                                <p class="text-text-secondary text-sm mb-2">Custom Design Request</p>
                                <div class="flex items-center justify-between">
                                    <span class="text-accent font-bold text-sm">$34.99</span>
                                    <span class="text-text-secondary text-xs">Alex K.</span>
                                </div>
                            </div>

                            <div class="kanban-card rounded-lg p-4">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-white font-medium text-sm">#ORD-2844</span>
                                    <span class="text-text-secondary text-xs">8h ago</span>
                                </div>
                                <p class="text-text-secondary text-sm mb-2">Sarcastic Quote Tee - Size XL</p>
                                <div class="flex items-center justify-between">
                                    <span class="text-accent font-bold text-sm">$24.99</span>
                                    <span class="text-text-secondary text-xs">Jenny L.</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Shipped Orders -->
                    <div class="kanban-column rounded-xl p-4" data-status="shipped">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="font-medium text-white">Shipped</h3>
                            <span class="status-badge status-processing">0</span>
                        </div>
                        <div class="space-y-3">
                            <div class="kanban-card rounded-lg p-4">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-white font-medium text-sm">#ORD-2843</span>
                                    <span class="text-text-secondary text-xs">1d ago</span>
                                </div>
                                <p class="text-text-secondary text-sm mb-2">Minimalist Rebel - Size S</p>
                                <div class="flex items-center justify-between">
                                    <span class="text-accent font-bold text-sm">$22.99</span>
                                    <span class="text-text-secondary text-xs">David P.</span>
                                </div>
                            </div>

                            <div class="kanban-card rounded-lg p-4">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-white font-medium text-sm">#ORD-2842</span>
                                    <span class="text-text-secondary text-xs">1d ago</span>
                                </div>
                                <p class="text-text-secondary text-sm mb-2">Horror Collection Bundle</p>
                                <div class="flex items-center justify-between">
                                    <span class="text-accent font-bold text-sm">$67.97</span>
                                    <span class="text-text-secondary text-xs">Emma T.</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Completed Orders -->
                    <div class="kanban-column rounded-xl p-4" data-status="completed">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="font-medium text-white">Completed</h3>
                            <span class="status-badge status-completed">0</span>
                        </div>
                        <div class="space-y-3">
                            <div class="kanban-card rounded-lg p-4">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-white font-medium text-sm">#ORD-2841</span>
                                    <span class="text-text-secondary text-xs">2d ago</span>
                                </div>
                                <p class="text-text-secondary text-sm mb-2">Pop Culture Tee - Size M</p>
                                <div class="flex items-center justify-between">
                                    <span class="text-success font-bold text-sm">$26.99</span>
                                    <span class="text-text-secondary text-xs">Lisa W.</span>
                                </div>
                            </div>

                            <div class="kanban-card rounded-lg p-4">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-white font-medium text-sm">#ORD-2840</span>
                                    <span class="text-text-secondary text-xs">2d ago</span>
                                </div>
                                <p class="text-text-secondary text-sm mb-2">Custom Wedding Tees (x5)</p>
                                <div class="flex items-center justify-between">
                                    <span class="text-success font-bold text-sm">$124.95</span>
                                    <span class="text-text-secondary text-xs">Rachel B.</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Inventory Alerts & Custom Requests -->
            <section class="grid lg:grid-cols-2 gap-8">
                <!-- Inventory Alerts -->
                <div class="glass-card rounded-xl p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="font-orbitron text-lg font-bold text-white">Inventory Alerts</h3>
                        <span class="status-badge status-urgent">5 Low Stock</span>
                    </div>
                    <div class="space-y-4">
                        <div class="flex items-center space-x-4 p-3 bg-surface-dark rounded-lg border border-error border-opacity-30">
                            <div class="w-3 h-3 bg-error rounded-full"></div>
                            <div class="flex-1">
                                <h4 class="text-white font-medium text-sm">Horror Skull Tee - Size L</h4>
                                <p class="text-text-secondary text-xs">Only 3 left in stock</p>
                            </div>
                            <button class="text-accent hover:text-accent-light text-sm">Reorder</button>
                        </div>

                        <div class="flex items-center space-x-4 p-3 bg-surface-dark rounded-lg border border-warning border-opacity-30">
                            <div class="w-3 h-3 bg-warning rounded-full"></div>
                            <div class="flex-1">
                                <h4 class="text-white font-medium text-sm">Pop Culture Mashup - Size M</h4>
                                <p class="text-text-secondary text-xs">7 left in stock</p>
                            </div>
                            <button class="text-accent hover:text-accent-light text-sm">Reorder</button>
                        </div>

                        <div class="flex items-center space-x-4 p-3 bg-surface-dark rounded-lg border border-error border-opacity-30">
                            <div class="w-3 h-3 bg-error rounded-full"></div>
                            <div class="flex-1">
                                <h4 class="text-white font-medium text-sm">Sarcastic Quote Tee - Size XL</h4>
                                <p class="text-text-secondary text-xs">Only 2 left in stock</p>
                            </div>
                            <button class="text-accent hover:text-accent-light text-sm">Reorder</button>
                        </div>
                    </div>
                </div>

                <!-- Custom Order Requests -->
                <div class="glass-card rounded-xl p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="font-orbitron text-lg font-bold text-white">Custom Requests</h3>
                        <a href="custom.html" class="text-accent hover:text-accent-light text-sm">View All</a>
                    </div>
                    <div class="space-y-4">
                        <div class="p-4 bg-surface-dark rounded-lg border border-accent border-opacity-30">
                            <div class="flex items-center justify-between mb-2">
                                <span class="status-badge status-urgent">Urgent</span>
                                <span class="text-text-secondary text-xs">2h ago</span>
                            </div>
                            <h4 class="text-white font-medium text-sm mb-2">Wedding Party Tees</h4>
                            <p class="text-text-secondary text-xs mb-3">Custom design for 8 bridesmaids with funny quotes</p>
                            <div class="flex items-center justify-between">
                                <span class="text-accent font-bold text-sm">Est. $240</span>
                                <button class="btn-primary text-xs px-3 py-1">Quote Now</button>
                            </div>
                        </div>

                        <div class="p-4 bg-surface-dark rounded-lg border border-accent border-opacity-30">
                            <div class="flex items-center justify-between mb-2">
                                <span class="status-badge status-processing">In Review</span>
                                <span class="text-text-secondary text-xs">5h ago</span>
                            </div>
                            <h4 class="text-white font-medium text-sm mb-2">Horror Movie Mashup</h4>
                            <p class="text-text-secondary text-xs mb-3">Combining 3 classic horror movies in one design</p>
                            <div class="flex items-center justify-between">
                                <span class="text-accent font-bold text-sm">Est. $35</span>
                                <button class="border border-accent text-accent px-3 py-1 rounded text-xs hover:bg-accent hover:text-black transition-all duration-300">Review</button>
                            </div>
                        </div>

                        <div class="p-4 bg-surface-dark rounded-lg border border-accent border-opacity-30">
                            <div class="flex items-center justify-between mb-2">
                                <span class="status-badge status-pending">New</span>
                                <span class="text-text-secondary text-xs">1d ago</span>
                            </div>
                            <h4 class="text-white font-medium text-sm mb-2">Corporate Event Tees</h4>
                            <p class="text-text-secondary text-xs mb-3">50 shirts for tech company with custom logo</p>
                            <div class="flex items-center justify-between">
                                <span class="text-accent font-bold text-sm">Est. $1,250</span>
                                <button class="btn-primary text-xs px-3 py-1">Quote Now</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Recent Activity -->
            <section>
                <div class="glass-card rounded-xl p-6">
                    <h3 class="font-orbitron text-lg font-bold text-white mb-6">Recent Activity</h3>
                    <div class="space-y-4">
                        <div class="flex items-start space-x-4 p-3 bg-surface-dark rounded-lg">
                            <div class="w-2 h-2 bg-success rounded-full mt-2"></div>
                            <div class="flex-1">
                                <p class="text-white text-sm">New order received: Horror Skull Tee</p>
                                <p class="text-text-secondary text-xs">Sarah M. ordered 1x Horror Skull Tee - Size L</p>
                                <span class="text-text-secondary text-xs">2 hours ago</span>
                            </div>
                            <span class="text-success font-bold text-sm">$24.99</span>
                        </div>

                        <div class="flex items-start space-x-4 p-3 bg-surface-dark rounded-lg">
                            <div class="w-2 h-2 bg-accent rounded-full mt-2"></div>
                            <div class="flex-1">
                                <p class="text-white text-sm">Custom order request submitted</p>
                                <p class="text-text-secondary text-xs">Wedding party tees for 8 bridesmaids</p>
                                <span class="text-text-secondary text-xs">3 hours ago</span>
                            </div>
                            <span class="text-accent font-bold text-sm">Quote Pending</span>
                        </div>

                        <div class="flex items-start space-x-4 p-3 bg-surface-dark rounded-lg">
                            <div class="w-2 h-2 bg-warning rounded-full mt-2"></div>
                            <div class="flex-1">
                                <p class="text-white text-sm">Low stock alert</p>
                                <p class="text-text-secondary text-xs">Horror Skull Tee - Size L (3 remaining)</p>
                                <span class="text-text-secondary text-xs">4 hours ago</span>
                            </div>
                            <button class="text-accent hover:text-accent-light text-sm">Reorder</button>
                        </div>

                        <div class="flex items-start space-x-4 p-3 bg-surface-dark rounded-lg">
                            <div class="w-2 h-2 bg-success rounded-full mt-2"></div>
                            <div class="flex-1">
                                <p class="text-white text-sm">Order shipped</p>
                                <p class="text-text-secondary text-xs">Pop Culture Mashup shipped to Mike R.</p>
                                <span class="text-text-secondary text-xs">6 hours ago</span>
                            </div>
                            <span class="text-success font-bold text-sm">Completed</span>
                        </div>

                        <div class="flex items-start space-x-4 p-3 bg-surface-dark rounded-lg">
                            <div class="w-2 h-2 bg-neon-purple rounded-full mt-2"></div>
                            <div class="flex-1">
                                <p class="text-white text-sm">New product uploaded</p>
                                <p class="text-text-secondary text-xs">Minimalist Rebel design added to catalog</p>
                                <span class="text-text-secondary text-xs">1 day ago</span>
                            </div>
                            <a href="shop.html" class="text-accent hover:text-accent-light text-sm">View</a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Newsletter Subscribers -->
            <section>
                <div class="flex items-center justify-between mb-6">
                    <h2 class="font-orbitron text-xl font-bold text-white">Newsletter Subscribers</h2>
                    <div class="flex space-x-3">
                        <button id="refreshSubscribers" class="btn-primary text-sm px-4 py-2">Refresh</button>
                        <button id="exportSubscribers" class="border border-accent text-accent px-4 py-2 rounded-lg text-sm hover:bg-accent hover:text-black transition-all duration-300">
                            Export CSV
                        </button>
                    </div>
                </div>

                <div class="glass-card rounded-xl p-6">
                    <div class="flex items-center justify-between mb-6">
                        <div>
                            <h3 class="text-white font-medium text-lg">Subscriber List</h3>
                            <p class="text-text-secondary text-sm">Manage your newsletter subscribers</p>
                        </div>
                        <div class="text-right">
                            <p class="text-2xl font-bold text-accent" id="subscriberCount">0</p>
                            <p class="text-text-secondary text-xs">Total Subscribers</p>
                        </div>
                    </div>

                    <div class="overflow-x-auto">
                        <table class="w-full text-left">
                            <thead>
                                <tr class="border-b border-surface-light">
                                    <th class="text-text-secondary text-sm font-medium pb-3">Email</th>
                                    <th class="text-text-secondary text-sm font-medium pb-3">Name</th>
                                    <th class="text-text-secondary text-sm font-medium pb-3">Subscribed</th>
                                    <th class="text-text-secondary text-sm font-medium pb-3">Status</th>
                                    <th class="text-text-secondary text-sm font-medium pb-3">Welcome Email</th>
                                    <th class="text-text-secondary text-sm font-medium pb-3">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="subscribersTableBody">
                                <!-- Subscribers will be loaded here -->
                            </tbody>
                        </table>
                    </div>

                    <div id="subscribersLoading" class="text-center py-8 hidden">
                        <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-accent"></div>
                        <p class="text-text-secondary mt-2">Loading subscribers...</p>
                    </div>

                    <div id="subscribersEmpty" class="text-center py-8 hidden">
                        <svg class="w-12 h-12 text-text-secondary mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                        </svg>
                        <p class="text-text-secondary">No subscribers yet</p>
                        <p class="text-text-secondary text-sm">Subscribers will appear here once they sign up</p>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- JavaScript -->
    <script>
        // Authentication check
        function checkAuth() {
            const token = localStorage.getItem('adminToken');
            if (!token) {
                window.location.href = 'admin-login.html';
                return false;
            }
            return token;
        }

        // API request helper
        async function apiRequest(url, options = {}) {
            const token = checkAuth();
            if (!token) return null;

            const response = await fetch(url, {
                ...options,
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${token}`,
                    ...options.headers
                }
            });

            if (response.status === 401) {
                localStorage.removeItem('adminToken');
                localStorage.removeItem('adminUser');
                window.location.href = 'admin-login.html';
                return null;
            }

            return response;
        }

        // Logout function
        function logout() {
            localStorage.removeItem('adminToken');
            localStorage.removeItem('adminUser');
            window.location.href = 'admin-login.html';
        }

        // Mobile Menu Toggle
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const sidebar = document.getElementById('sidebar');
        const mobileOverlay = document.getElementById('mobile-overlay');

        mobileMenuBtn.addEventListener('click', () => {
            sidebar.classList.toggle('open');
            mobileOverlay.classList.toggle('hidden');
        });

        mobileOverlay.addEventListener('click', () => {
            sidebar.classList.remove('open');
            mobileOverlay.classList.add('hidden');
        });

        // Load real dashboard data
        async function loadDashboardData() {
            try {
                const response = await apiRequest('/api/analytics/dashboard?period=7d');
                if (!response) return;
                
                const data = await response.json();
                
                if (response.ok) {
                    updateMetrics(data.sales);
                    updateTopProducts(data.topProducts);
                    updateLowStockAlerts(data.lowStock);
                }
            } catch (error) {
                console.error('Error loading dashboard data:', error);
            }
        }

        // Update metrics with real data
        function updateMetrics(salesData) {
            const dailySalesElement = document.querySelector('.metric-card:nth-child(1) h3');
            const weeklySalesElement = document.querySelector('.metric-card:nth-child(2) h3');
            const totalOrdersElement = document.querySelector('.metric-card:nth-child(3) h3');
            
            if (dailySalesElement) {
                dailySalesElement.textContent = '$' + (salesData.total_sales || 0).toLocaleString();
            }
            if (weeklySalesElement) {
                weeklySalesElement.textContent = '$' + (salesData.total_sales || 0).toLocaleString();
            }
            if (totalOrdersElement) {
                totalOrdersElement.textContent = (salesData.total_orders || 0).toLocaleString();
            }
        }

        // Update top products
        function updateTopProducts(products) {
            const topProductsContainer = document.querySelector('.glass-card:nth-child(2) .space-y-4');
            if (!topProductsContainer || !products) return;
            
            topProductsContainer.innerHTML = products.map((product, index) => `
                <div class="flex items-center space-x-4 p-3 bg-surface-dark rounded-lg">
                    <img src="${product.image_url || 'https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?q=80&w=60&auto=format&fit=crop'}" alt="${product.product_name}" class="w-12 h-12 rounded-lg object-cover" loading="lazy" onerror="this.src='https://images.pexels.com/photos/996329/pexels-photo-996329.jpeg?auto=compress&cs=tinysrgb&w=60'; this.onerror=null;" />
                    <div class="flex-1">
                        <h4 class="text-white font-medium text-sm">${product.product_name}</h4>
                        <p class="text-text-secondary text-xs">${product.total_sold} sold this week</p>
                    </div>
                    <div class="text-right">
                        <p class="text-accent font-bold text-sm">$${product.total_revenue}</p>
                        <p class="text-success text-xs">+${Math.floor(Math.random() * 20 + 10)}%</p>
                    </div>
                </div>
            `).join('');
        }

        // Update low stock alerts
        function updateLowStockAlerts(lowStockItems) {
            const inventoryContainer = document.querySelector('.glass-card:nth-child(1) .space-y-4');
            if (!inventoryContainer || !lowStockItems) return;
            
            inventoryContainer.innerHTML = lowStockItems.map(item => `
                <div class="flex items-center space-x-4 p-3 bg-surface-dark rounded-lg border ${item.stock_quantity === 0 ? 'border-error border-opacity-30' : 'border-warning border-opacity-30'}">
                    <div class="w-3 h-3 ${item.stock_quantity === 0 ? 'bg-error' : 'bg-warning'} rounded-full"></div>
                    <div class="flex-1">
                        <h4 class="text-white font-medium text-sm">${item.name}</h4>
                        <p class="text-text-secondary text-xs">${item.stock_quantity === 0 ? 'Out of stock' : `${item.stock_quantity} left in stock`}</p>
                    </div>
                    <button class="text-accent hover:text-accent-light text-sm">Reorder</button>
                </div>
            `).join('');
        }

        // Load orders data
        async function loadOrders() {
            try {
                const response = await apiRequest('/api/orders?limit=20');
                if (!response) return;
                
                const data = await response.json();
                
                if (response.ok) {
                    updateOrderKanban(data.orders);
                }
            } catch (error) {
                console.error('Error loading orders:', error);
            }
        }

        // Update order kanban board
        function updateOrderKanban(orders) {
            const statuses = ['pending', 'processing', 'shipped', 'completed'];
            
            statuses.forEach(status => {
                const column = document.querySelector(`[data-status="${status}"]`);
                if (!column) return;
                
                const statusOrders = orders.filter(order => order.status === status);
                const orderContainer = column.querySelector('.space-y-3');
                
                if (orderContainer) {
                    orderContainer.innerHTML = statusOrders.map(order => `
                        <div class="kanban-card rounded-lg p-4" draggable="true" data-order-id="${order.id}">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-white font-medium text-sm">${order.order_number}</span>
                                <span class="text-text-secondary text-xs">${formatTimeAgo(order.created_at)}</span>
                            </div>
                            <p class="text-text-secondary text-sm mb-2">${order.customer_name || 'Customer'}</p>
                            <div class="flex items-center justify-between">
                                <span class="text-accent font-bold text-sm">$${order.total_amount}</span>
                                <span class="text-text-secondary text-xs">${order.customer_name || 'Customer'}</span>
                            </div>
                        </div>
                    `).join('');
                }
            });
        }

        // Format time ago
        function formatTimeAgo(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diffInHours = Math.floor((now - date) / (1000 * 60 * 60));
            
            if (diffInHours < 1) return 'Just now';
            if (diffInHours < 24) return `${diffInHours}h ago`;
            if (diffInHours < 48) return '1d ago';
            return `${Math.floor(diffInHours / 24)}d ago`;
        }

        // Load custom requests
        async function loadCustomRequests() {
            try {
                const response = await apiRequest('/api/custom-requests?limit=5');
                if (!response) return;
                
                const data = await response.json();
                
                if (response.ok) {
                    updateCustomRequests(data.requests);
                }
            } catch (error) {
                console.error('Error loading custom requests:', error);
            }
        }

        // Update custom requests
        function updateCustomRequests(requests) {
            const container = document.querySelector('.glass-card:nth-child(2) .space-y-4');
            if (!container || !requests) return;
            
            container.innerHTML = requests.map(request => {
                const statusClass = request.status === 'pending' ? 'status-pending' : 
                                  request.status === 'processing' ? 'status-processing' : 
                                  request.status === 'urgent' ? 'status-urgent' : 'status-pending';
                
                const timelineText = request.timeline === 'rush' ? 'Rush' : 
                                   request.timeline === 'express' ? 'Express' : 'Standard';
                
                return `
                    <div class="p-4 bg-surface-dark rounded-lg border border-accent border-opacity-30">
                        <div class="flex items-center justify-between mb-2">
                            <span class="status-badge ${statusClass}">${request.status}</span>
                            <span class="text-text-secondary text-xs">${formatTimeAgo(request.created_at)}</span>
                        </div>
                        <h4 class="text-white font-medium text-sm mb-2">${request.customer_name} - ${request.product_type}</h4>
                        <p class="text-text-secondary text-xs mb-2">${request.concept_description.substring(0, 100)}${request.concept_description.length > 100 ? '...' : ''}</p>
                        <div class="flex items-center justify-between text-xs mb-2">
                            <span class="text-text-secondary">Qty: ${request.quantity}</span>
                            <span class="text-text-secondary">Timeline: ${timelineText}</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-accent font-bold text-sm">Budget: ${request.budget_range}</span>
                            <button class="btn-primary text-xs px-3 py-1" onclick="viewCustomRequest(${request.id})">View Details</button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // View custom request details
        async function viewCustomRequest(requestId) {
            try {
                const response = await apiRequest(`/api/custom-requests/${requestId}`);
                if (!response) return;
                
                const data = await response.json();
                
                if (response.ok) {
                    showCustomRequestModal(data.request);
                } else {
                    console.error('Error loading custom request details:', data.error);
                }
            } catch (error) {
                console.error('Error loading custom request details:', error);
            }
        }

        // Show custom request modal
        function showCustomRequestModal(request) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="glass-card rounded-2xl p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="font-orbitron text-xl font-bold text-white">Custom Request Details</h3>
                        <button onclick="this.closest('.fixed').remove()" class="text-text-secondary hover:text-accent">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                            </svg>
                        </button>
                    </div>
                    
                    <div class="space-y-6">
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="text-text-secondary text-sm">Customer Name</label>
                                <p class="text-white font-medium">${request.customer_name}</p>
                            </div>
                            <div>
                                <label class="text-text-secondary text-sm">Email</label>
                                <p class="text-white font-medium">${request.email}</p>
                            </div>
                            ${request.phone ? `
                            <div>
                                <label class="text-text-secondary text-sm">Phone</label>
                                <p class="text-white font-medium">${request.phone}</p>
                            </div>
                            ` : ''}
                            <div>
                                <label class="text-text-secondary text-sm">Timeline</label>
                                <p class="text-white font-medium">${request.timeline}</p>
                            </div>
                            <div>
                                <label class="text-text-secondary text-sm">Product Type</label>
                                <p class="text-white font-medium">${request.product_type}</p>
                            </div>
                            <div>
                                <label class="text-text-secondary text-sm">Quantity</label>
                                <p class="text-white font-medium">${request.quantity}</p>
                            </div>
                            <div>
                                <label class="text-text-secondary text-sm">Budget Range</label>
                                <p class="text-white font-medium">${request.budget_range}</p>
                            </div>
                        </div>
                        
                        <div>
                            <label class="text-text-secondary text-sm">Design Concept</label>
                            <p class="text-white mt-2">${request.concept_description}</p>
                        </div>
                        
                        ${request.additional_notes ? `
                        <div>
                            <label class="text-text-secondary text-sm">Additional Notes</label>
                            <p class="text-white mt-2">${request.additional_notes}</p>
                        </div>
                        ` : ''}
                        
                        ${request.style_preferences ? `
                        <div>
                            <label class="text-text-secondary text-sm">Style Preferences</label>
                            <p class="text-white mt-2">${JSON.parse(request.style_preferences).join(', ')}</p>
                        </div>
                        ` : ''}
                        
                        ${request.size_requirements ? `
                        <div>
                            <label class="text-text-secondary text-sm">Size Requirements</label>
                            <p class="text-white mt-2">${JSON.parse(request.size_requirements).join(', ')}</p>
                        </div>
                        ` : ''}
                        
                        ${request.color_preferences ? `
                        <div>
                            <label class="text-text-secondary text-sm">Color Preferences</label>
                            <p class="text-white mt-2">${request.color_preferences}</p>
                        </div>
                        ` : ''}
                        
                        ${request.reference_images ? `
                        <div>
                            <label class="text-text-secondary text-sm">Reference Images</label>
                            <div class="grid grid-cols-2 gap-2 mt-2">
                                ${JSON.parse(request.reference_images).map(img => `
                                    <div class="bg-surface-dark p-2 rounded">
                                        <p class="text-xs text-text-secondary">${img.name}</p>
                                        <p class="text-xs text-text-secondary">${(img.size / 1024).toFixed(1)} KB</p>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        ` : ''}
                        
                        <div class="flex justify-between items-center pt-4 border-t border-surface-light">
                            <div>
                                <span class="status-badge status-${request.status}">${request.status}</span>
                                <span class="text-text-secondary text-sm ml-2">Created: ${new Date(request.created_at).toLocaleString()}</span>
                            </div>
                            <div class="space-x-2">
                                <button onclick="updateRequestStatus(${request.id}, 'processing')" class="btn-primary text-sm px-4 py-2">Start Processing</button>
                                <button onclick="sendQuote(${request.id})" class="border border-accent text-accent px-4 py-2 rounded text-sm hover:bg-accent hover:text-black transition-all duration-300">Send Quote</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }

        // Update request status
        async function updateRequestStatus(requestId, status) {
            try {
                const response = await apiRequest(`/api/custom-requests/${requestId}/status`, {
                    method: 'PATCH',
                    body: JSON.stringify({ status })
                });
                
                if (response && response.ok) {
                    showNotification('Request status updated successfully', 'success');
                    loadCustomRequests(); // Refresh the list
                } else {
                    showNotification('Failed to update request status', 'error');
                }
            } catch (error) {
                console.error('Error updating request status:', error);
                showNotification('Error updating request status', 'error');
            }
        }

        // Send quote (placeholder function)
        function sendQuote(requestId) {
            showNotification('Quote functionality coming soon!', 'info');
        }

        // Auto-refresh dashboard data
        setInterval(loadDashboardData, 30000);

        // Kanban drag and drop simulation
        const kanbanCards = document.querySelectorAll('.kanban-card');
        kanbanCards.forEach(card => {
            card.addEventListener('dragstart', (e) => {
                e.dataTransfer.setData('text/plain', '');
                card.style.opacity = '0.5';
            });

            card.addEventListener('dragend', () => {
                card.style.opacity = '1';
            });
        });

        // Real-time notifications simulation
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 p-4 rounded-lg z-50 transition-all duration-300 ${
                type === 'success' ? 'bg-success' : 
                type === 'warning' ? 'bg-warning' : 
                type === 'error' ? 'bg-error' : 'bg-accent'
            } text-white`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Simulate new orders
        setInterval(() => {
            if (Math.random() > 0.7) {
                showNotification('New order received!', 'success');
            }
        }, 60000);

        // Chart animation on load
        document.addEventListener('DOMContentLoaded', () => {
            const chartLine = document.querySelector('polyline');
            if (chartLine) {
                const length = chartLine.getTotalLength();
                chartLine.style.strokeDasharray = length;
                chartLine.style.strokeDashoffset = length;
                
                setTimeout(() => {
                    chartLine.style.transition = 'stroke-dashoffset 2s ease-in-out';
                    chartLine.style.strokeDashoffset = 0;
                }, 500);
            }
        });

        // Progress bar animations
        const progressBars = document.querySelectorAll('.progress-fill');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const width = entry.target.style.width;
                    entry.target.style.width = '0%';
                    setTimeout(() => {
                        entry.target.style.width = width;
                    }, 100);
                }
            });
        });

        progressBars.forEach(bar => observer.observe(bar));

        // Newsletter Subscribers Management
        const refreshSubscribersBtn = document.getElementById('refreshSubscribers');
        const exportSubscribersBtn = document.getElementById('exportSubscribers');
        const subscribersTableBody = document.getElementById('subscribersTableBody');
        const subscriberCount = document.getElementById('subscriberCount');
        const subscribersLoading = document.getElementById('subscribersLoading');
        const subscribersEmpty = document.getElementById('subscribersEmpty');

        async function loadSubscribers() {
            try {
                subscribersLoading.classList.remove('hidden');
                subscribersTableBody.innerHTML = '';
                subscribersEmpty.classList.add('hidden');

                const response = await fetch('/api/subscribers');
                const data = await response.json();

                if (response.ok) {
                    const subscribers = data.subscribers;
                    subscriberCount.textContent = subscribers.length;

                    if (subscribers.length === 0) {
                        subscribersEmpty.classList.remove('hidden');
                    } else {
                        subscribers.forEach(subscriber => {
                            const row = document.createElement('tr');
                            row.className = 'border-b border-surface-light hover:bg-surface-dark transition-colors';
                            
                            const subscribedDate = new Date(subscriber.subscribed_at).toLocaleDateString();
                            const status = subscriber.is_active ? 'Active' : 'Inactive';
                            const statusClass = subscriber.is_active ? 'text-success' : 'text-text-secondary';
                            const welcomeEmail = subscriber.welcome_email_sent ? 'Sent' : 'Pending';
                            const welcomeClass = subscriber.welcome_email_sent ? 'text-success' : 'text-warning';

                            row.innerHTML = `
                                <td class="py-3 text-white">${subscriber.email}</td>
                                <td class="py-3 text-text-secondary">${subscriber.name || '-'}</td>
                                <td class="py-3 text-text-secondary">${subscribedDate}</td>
                                <td class="py-3 ${statusClass}">${status}</td>
                                <td class="py-3 ${welcomeClass}">${welcomeEmail}</td>
                                <td class="py-3">
                                    <button class="text-accent hover:text-accent-light text-sm" onclick="resendWelcomeEmail('${subscriber.email}')">
                                        Resend Welcome
                                    </button>
                                </td>
                            `;
                            
                            subscribersTableBody.appendChild(row);
                        });
                    }
                } else {
                    showNotification('Error loading subscribers', 'error');
                }
            } catch (error) {
                console.error('Error loading subscribers:', error);
                showNotification('Network error loading subscribers', 'error');
            } finally {
                subscribersLoading.classList.add('hidden');
            }
        }

        async function resendWelcomeEmail(email) {
            try {
                const response = await fetch('/api/subscribe', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ email })
                });

                if (response.ok) {
                    showNotification('Welcome email resent successfully!', 'success');
                } else {
                    showNotification('Error resending welcome email', 'error');
                }
            } catch (error) {
                console.error('Error resending welcome email:', error);
                showNotification('Network error resending email', 'error');
            }
        }

        function exportSubscribersCSV() {
            const table = document.querySelector('table');
            const rows = table.querySelectorAll('tbody tr');
            
            let csv = 'Email,Name,Subscribed,Status,Welcome Email\n';
            
            rows.forEach(row => {
                const cells = row.querySelectorAll('td');
                const email = cells[0].textContent;
                const name = cells[1].textContent;
                const subscribed = cells[2].textContent;
                const status = cells[3].textContent;
                const welcomeEmail = cells[4].textContent;
                
                csv += `"${email}","${name}","${subscribed}","${status}","${welcomeEmail}"\n`;
            });
            
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'subscribers.csv';
            a.click();
            window.URL.revokeObjectURL(url);
            
            showNotification('Subscribers exported successfully!', 'success');
        }

        // Event listeners
        if (refreshSubscribersBtn) {
            refreshSubscribersBtn.addEventListener('click', loadSubscribers);
        }

        if (exportSubscribersBtn) {
            exportSubscribersBtn.addEventListener('click', exportSubscribersCSV);
        }

        // Initialize dashboard on page load
        document.addEventListener('DOMContentLoaded', () => {
            // Check authentication
            if (!checkAuth()) return;
            
            // Load all dashboard data
            loadDashboardData();
            loadOrders();
            loadCustomRequests();
            loadSubscribers();
            
            // Add logout functionality to profile
            const profileSection = document.querySelector('.flex.items-center.space-x-3');
            if (profileSection) {
                const logoutBtn = document.createElement('button');
                logoutBtn.className = 'text-text-secondary hover:text-accent text-sm transition-colors';
                logoutBtn.textContent = 'Logout';
                logoutBtn.onclick = logout;
                profileSection.appendChild(logoutBtn);
            }
        });
    </script>
<script id="dhws-dataInjector" src="../public/dhws-data-injector.js"></script>
</body>
</html>